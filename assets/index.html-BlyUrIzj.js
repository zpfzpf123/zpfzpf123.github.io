import{_ as i,e as a,f as n,o as e}from"./app-CflHQ2lS.js";const h={};function t(p,s){return e(),a("div",null,s[0]||(s[0]=[n(`<p>通过本教程，开发者可快速掌握从零发布到持续维护的完整生命周期管理。建议在正式发布前使用 <code>npm pack</code> 命令生成本地测试包验证功能完整性。</p><h1 id="一、环境准备" tabindex="-1"><a class="header-anchor" href="#一、环境准备"><span>一、环境准备</span></a></h1><h2 id="安装-node-js-需包含-npm" tabindex="-1"><a class="header-anchor" href="#安装-node-js-需包含-npm"><span>安装 Node.js (需包含 npm)</span></a></h2><p>使用 <code>node -v</code> 验证版本 ≥14.x，使用 <code>npm -v</code> 查看 npm 版本。</p><h2 id="注册-npm-账号" tabindex="-1"><a class="header-anchor" href="#注册-npm-账号"><span>注册 npm 账号</span></a></h2><p>官网：https://www.npmjs.com/ 推荐方式：使用 <code>npm adduser</code> 命令注册</p><h1 id="二、项目初始化" tabindex="-1"><a class="header-anchor" href="#二、项目初始化"><span>二、项目初始化</span></a></h1><h2 id="一-创建项目目录" tabindex="-1"><a class="header-anchor" href="#一-创建项目目录"><span>（一）创建项目目录</span></a></h2><p>使用 <code>mkdir my-plugin &amp;&amp; cd my-plugin</code> 创建并进入项目目录。</p><h2 id="二-初始化-package-json" tabindex="-1"><a class="header-anchor" href="#二-初始化-package-json"><span>（二）初始化 package.json</span></a></h2><p>使用 <code>npm init -y</code> 快速生成配置文件。</p><p>关键字段说明</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">    &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">name</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">your-unique-package-name</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> // 全局唯一标识</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">    &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">version</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">1.0.0</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> // 遵循语义化版本规范</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">    &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">main</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">dist/index.js</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> // 入口文件路径</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">    &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">scripts</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">        &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">build</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">webpack --mode production</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> // 推荐配置构建命令</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="三、代码开发规范" tabindex="-1"><a class="header-anchor" href="#三、代码开发规范"><span>三、代码开发规范</span></a></h1><h2 id="一-创建核心功能文件" tabindex="-1"><a class="header-anchor" href="#一-创建核心功能文件"><span>（一）创建核心功能文件</span></a></h2><div class="language-javascript line-numbers-mode" data-ext="javascript" data-title="javascript"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">// src/index.js</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">function</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> helloPlugin</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    console</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">log</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Plugin activated!</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">module</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">exports</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> helloPlugin</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> // 必须导出模块</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="二-配置编译工具-以-webpack-为例" tabindex="-1"><a class="header-anchor" href="#二-配置编译工具-以-webpack-为例"><span>（二）配置编译工具（以 Webpack 为例）</span></a></h2><div class="language-javascript line-numbers-mode" data-ext="javascript" data-title="javascript"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">// webpack.config.js</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> path</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> require</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">path</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">module</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">exports</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    entry</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">./src/index.js</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    output</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">        filename</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">index.js</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">        path</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> path</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">resolve</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">__dirname</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">dist</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">};</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="四、发布准备" tabindex="-1"><a class="header-anchor" href="#四、发布准备"><span>四、发布准备</span></a></h2><p>（一）登录 npm 账号 使用 <code>npm login</code> 依次输入账号、密码、邮箱。</p><p>（二）处理镜像源（国内用户） 使用 <code>npm config set registry https://registry.npmjs.org/</code> 切换到官方源。</p><p>（三）版本号管理 遵循语义化版本：主版本号.次版本号.修订号 更新命令：<code>npm version patch|minor|major</code></p><h1 id="五、发布与维护" tabindex="-1"><a class="header-anchor" href="#五、发布与维护"><span>五、发布与维护</span></a></h1><p>（一）执行发布命令 首次发布使用 <code>npm publish --access public</code>，首次发布需加 <code>--access</code> 参数。</p><p>（二）更新版本流程 使用 <code>npm version patch</code> 自动升级版本号，然后使用 <code>npm publish</code> 发布。</p><p>（三）撤销发布（24 小时内有效） 使用 <code>npm unpublish 包名 --force</code> 撤销发布。</p><h1 id="六、最佳实践" tabindex="-1"><a class="header-anchor" href="#六、最佳实践"><span>六、最佳实践</span></a></h1><p>（一）文档规范 必须包含：<code>README.md</code>（安装 / API / 示例） 推荐添加：<code>CHANGELOG.md</code> 记录版本变更</p><p>（二）质量保障 使用 <code>npm test</code> 执行配置的测试脚本，使用 <code>npm run lint</code> 进行代码规范检查。</p><p>（三）命名技巧 使用作用域包：<code>@username/plugin-name</code> 避免冲突 验证唯一性：通过 <code>npm search 包名</code> 验证</p><h1 id="常见问题排查" tabindex="-1"><a class="header-anchor" href="#常见问题排查"><span>常见问题排查</span></a></h1><table><thead><tr><th>问题现象</th><th>解决方案</th></tr></thead><tbody><tr><td>ERR! 403 Forbidden</td><td>1. 检查包名是否重复；2. 确认登录状态，使用 <code>npm whoami</code></td></tr><tr><td>ERR! 404 Not Found</td><td>检查 registry 是否为官方源</td></tr><tr><td>版本冲突</td><td>使用 <code>npm view 包名 versions</code> 查看历史版本</td></tr></tbody></table><h1 id="其他补充" tabindex="-1"><a class="header-anchor" href="#其他补充"><span>其他补充</span></a></h1><p>完整示例项目参考：https://github.com/example/npm-plugin-template 推荐工具：</p><ul><li><code>np</code>：增强版发布工具</li><li><code>semantic-release</code>：自动化版本管理</li></ul>`,35)]))}const k=i(h,[["render",t],["__file","index.html.vue"]]),d=JSON.parse('{"path":"/article/uope2gbp/","title":"npm插件发布","lang":"zh-CN","frontmatter":{"title":"npm插件发布","createTime":"2025/03/05 10:48:20","tags":["npm"],"permalink":"/article/uope2gbp/"},"headers":[],"readingTime":{"minutes":2.2,"words":660},"git":{"updatedTime":1741144466000,"contributors":[{"name":"18582297328","username":"18582297328","email":"2622013323@qq.com","commits":1,"avatar":"https://avatars.githubusercontent.com/18582297328?v=4","url":"https://github.com/18582297328"}]},"filePathRelative":"npm/npm插件发布.md","categoryList":[{"id":"bb30e8","sort":10010,"name":"npm"}]}');export{k as comp,d as data};
